<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Another Clone Site</title>
    <link rel="stylesheet" href="style_2.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.10.2/css/all.css"
    />
  </head>
  <body>
    <!-- -------------- Header ------------------->
    <div class="header">
      <nav>
        <div class="img_logo">
          <img src="images/logo.png" alt="logo" class="logo" />
        </div>
        <div class="items">
          <a href="">Home</a>
          <a href="">TV Shows</a>
          <a href="">Orignals</a>
          <a href="">Movies</a>
          <a href="">Recently Added</a>
          <a href="">My List</a>
        </div>
        <div class="nav_icons">
          <img src="images/search.jpg" alt="" />
          <img src="images/notification.png" alt="" />
          <img src="" alt="" />
        </div>
      </nav>
    </div>
    <!-- --------------- Header Content ---------------- -->
    <div id="landing_image" class="box">
      <h1 id="landing_title">SPARTAN</h1>
      <!-- <p><span>Disclaimer: this is not Netflix. This is for practice.</span></p> -->
      <p id="landing_desc">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem nihil
        dolore alias nesciunt nisi ratione dolorum aspernatur quam. Beatae sequi
        cum eos odit laudantium omnis sunt rerum quia illum dolorum.
      </p>

      <div class="content_button">
        <button class="play">
          <img src="images/down-icon.png" alt="" /> PLAY
        </button>
        <button class="my_list">
          <img src="images/plus.png" alt="" /> MY LIST
        </button>
      </div>
    </div>
    <!-- ------------ Section -------------- -->
    <div class="sections">
      <section class="part2">
        <h2>Trending Now</h2>
        <div id="trendingnow"></div>
        
      </section>
      <section class="part3">
        <h2>Top picks for you</h2>
        <img src="images/feature-1.png" alt="" />
        <img src="images/feature-2.png" alt="" />
        <img src="images/feature-3.png" alt="" />
        <img src="images/feature-4.png" alt="" />
      </section>
      <section class="part4">
        <h2>Popular on Netflix</h2>
        <img src="images/feature-1.png" alt="" />
        <img src="images/feature-2.png" alt="" />
        <img src="images/feature-3.png" alt="" />
        <img src="images/feature-4.png" alt="" />
      </section>
    </div>
    <!-- ------------- footer ---------------- -->
    <div class="footer">
      <div class="media">
        <img src="images/facebook.png" alt="" />
        <img src="images/twitter.png" alt="" />
        <img src="images/google.png" alt="" />
      </div>
      <div class="download"></div>
    </div>
  </body>

  <script>
    let test_movie = {
            "adult": false,
            "backdrop_path": "/b9UCfDzwiWw7mIFsIQR9ZJUeh7q.jpg",
            "id": 868759,
            "title": "Ghosted",
            "original_language": "en",
            "original_title": "Ghosted",
            "overview": "Salt-of-the-earth Cole falls head over heels for enigmatic Sadie — but then makes the shocking discovery that she’s a secret agent. Before they can decide on a second date, Cole and Sadie are swept away on an international adventure to save the world.",
            "poster_path": "/liLN69YgoovHVgmlHJ876PKi5Yi.jpg",
            "media_type": "movie",
            "genre_ids": [
                10749,
                28,
                35
            ],
            "popularity": 1214.867,
            "release_date": "2023-04-21",
            "video": false,
            "vote_average": 7.28,
            "vote_count": 412
        }


  const movie_url = "https://image.tmdb.org/t/p/original/"

  let fullpath = movie_url + test_movie["poster_path"]
  

  let get_title = document.getElementById("landing_title")
  get_title.textContent = test_movie["title"]
  console.log("Title is = ")
  console.log(get_title)
  
  let get_desc = document.getElementById("landing_desc")
  get_desc.textContent = test_movie["overview"]

  // API PART
  const API_URL = "https://api.themoviedb.org/3/trending/movie/week?api_key="
  const API_KEY = "448dc0412a09448400b83bbd89a3f281"

  let full_api_path = API_URL + API_KEY

  

  fetch(full_api_path) // CONFIRMING THE API EXISTS
  .then((response) => { // IF IT EXISTS A RESPONSE WILL COME
    return response.json() // IN THAT RESPONSE A JSON FILE WILL BE THERE THAT CONTAINS THE DATA
  }).then((data) => { // WE MANIPULATE THAT DATA TO OUR LIKING

    let trending_now_data = data["results"].slice(0, 3) // WE LIMIT THE RESULTS TO THE FIRST 3
    let trending_div = document.getElementById("trendingnow") // WE GET THE DIV WITH THE ID TO DISPLAY TRENDING NOW
    
    for (let i = 0; i < trending_now_data.length; i++) { // WE LOOP THROUGH THE ARRAY
      var img = document.createElement('img'); // WE CREATE AN IMAGE ELEMENT
            img.src = movie_url + trending_now_data[i]["backdrop_path"]; // WE ADD THE SOURCE OF THE IMAGE TO BE EQUALS TO THE BACKDROP PATH
            trending_div.appendChild(img); // WE FINALLY APPEND THE NEWLY CREATED IMAGE TO THE DIV
      }
    
  })

  </script>
</html>
